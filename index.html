<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Love ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- LOADING -->
        <section id="loading" class="active">
            <div class="loading-container">
                <div class="loading-bar-wrapper">
                    <div class="loading-bar"></div>
                </div>
                <p class="loading-text">ƒêang chu·∫©n b·ªã...</p>
            </div>
        </section>

        <!-- INTRO -->
        <section id="intro">
            <h1 id="typing-text"></h1>
            <p>H√†nh tr√¨nh tuy·ªát v·ªùi ƒëang ch·ªù em ‚ú®</p>
            <button onclick="startJourney()">B·∫Øt ƒë·∫ßu üíå</button>
        </section>

        <!-- STAGE 1 -->
        <section id="stage1">
            <h2 class="memory-title">qua sen üå∏</h2>
            <div class="memory-path-container">
                <div class="memory-path">
                    <svg class="path-svg" viewBox="0 0 1200 700" preserveAspectRatio="xMidYMid meet">
                        <defs>
                            <linearGradient id="pathGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#ff9ec5;stop-opacity:0.6" />
                                <stop offset="50%" style="stop-color:#ffb3d9;stop-opacity:0.5" />
                                <stop offset="100%" style="stop-color:#ffc9e3;stop-opacity:0.4" />
                            </linearGradient>
                        </defs>
                        <path d="M 180 80 Q 150 200, 150 280 Q 150 400, 250 480 Q 350 560, 250 620 
                                 M 1020 130 Q 1050 300, 1050 380 Q 1050 500, 950 580" 
                              stroke="url(#pathGradient)" 
                              stroke-width="4" 
                              fill="none" 
                              stroke-linecap="round" 
                              stroke-dasharray="10,5"
                              opacity="0.8"/>
                    </svg>

                    <div class="memory-checkpoint">
                        <div class="connector-line"></div>
                        <div class="memory-item">
                            <img src="static/images/anh1.jpg" alt="K·ª∑ ni·ªám 1">
                            <span class="emoji-icon"></span>
                        </div>
                        <div class="memory-label">She's beautiful when she smiles</div>
                    </div>

                    <div class="memory-checkpoint">
                        <div class="connector-line"></div>
                        <div class="memory-item">
                            <img src="static/images/anh2.jpg" alt="K·ª∑ ni·ªám 2">
                            <span class="emoji-icon"></span>
                        </div>
                        <div class="memory-label">Her eyes shine like stars.</div>
                    </div>

                    <div class="memory-checkpoint">
                        <div class="connector-line"></div>
                        <div class="memory-item">
                            <img src="static/images/anh3.jpg" alt="K·ª∑ ni·ªám 3">
                            <span class="emoji-icon"></span>
                        </div>
                        <div class="memory-label">She's lovely even when she's shy.</div>
                    </div>

                    <div class="memory-checkpoint">
                        <div class="connector-line"></div>
                        <div class="memory-item">
                            <img src="static/images/anh4.jpg" alt="K·ª∑ ni·ªám 4">
                            <span class="emoji-icon"></span>
                        </div>
                        <div class="memory-label">Her natural look is breathtaking</div>
                    </div>

                    <div class="memory-checkpoint">
                        <div class="connector-line"></div>
                        <div class="memory-item">
                            <img src="static/images/anh5.jpg" alt="K·ª∑ ni·ªám 5">
                            <span class="emoji-icon"></span>
                        </div>
                        <div class="memory-label">She glows when she's happy</div>
                    </div>

                    <div class="memory-checkpoint">
                        <div class="connector-line"></div>
                        <div class="memory-item">
                            <img src="static/images/anh6.jpg" alt="K·ª∑ ni·ªám 6">
                            <span class="emoji-icon"></span>
                        </div>
                        <div class="memory-label">Even in silence, she's charming</div>
                    </div>
                </div>
            </div>
            <p style="color: #c06c84; font-size: 1.1rem; margin-bottom: 30px;">
                H√£y nh·∫≠p m·∫≠t m√£ ƒë·ªÉ ti·∫øp t·ª•c nh√© üíå
            </p>
            <button onclick="goToStage2()">Ti·∫øp T·ª•c ‚Üí</button>
        </section>

        <!-- STAGE 2 -->
        <section id="stage2">
            <div class="password-container">
                <h2>üîê Bi·ªát danh c·ªßa y√™n 1 t·ª´</h2>
                <input type="password" id="password-input" class="password-input" placeholder="Nh·∫≠p m·∫≠t m√£...">
                <button onclick="checkPassword()">M·ªü Kh√≥a üíû</button>
                <div class="password-message" id="password-message"></div>
            </div>
        </section>

        <!-- STAGE 3 -->
        <section id="stage3">
            <h2 style="color: #c06c84; font-size: 2rem; margin-bottom: 30px; font-family: 'Dancing Script', cursive;">
                üéÅ M√≥n Qu√† B·∫•t Ng·ªù
            </h2>
            <div class="gift-box" onclick="openGift()">üéÅ</div>
        </section>

        <!-- STAGE 4 -->
        <section id="stage4">
            <div class="greeting-card">
                <h2>Sinh Nh·∫≠t Vui V·∫ª ‚ù§Ô∏è</h2>
                <p>üéÇ üéâ üíù</p>
                <p>Ch√∫c b·∫°n sinh nh·∫≠t th·∫≠t h·∫°nh ph√∫c,<br>
                Lu√¥n c∆∞·ªùi t∆∞∆°i, m√£i l√† ng∆∞·ªùi tuy·ªát v·ªùi nh·∫•t.</p>
                <p>C·∫£m ∆°n b·∫°n.<br>
                Y√™u b·∫°n nhi·ªÅu l·∫Øm! üíï</p>
                <button onclick="goToStage1()">Xem L·∫°i H√†nh Tr√¨nh</button>
            </div>
        </section>
    </div>

    <script>
        const PASSWORD = "chucky";
        let currentStage = "loading";

        function typeText(element, text, speed = 100) {
            let index = 0;
            element.textContent = "";
            
            function type() {
                if (index < text.length) {
                    element.textContent += text.charAt(index);
                    index++;
                    setTimeout(type, speed);
                }
            }
            type();
        }

        window.addEventListener('load', function() {
            // Sau 3 gi√¢y loading s·∫Ω chuy·ªÉn sang intro
            setTimeout(() => {
                switchStage('intro');
                typeText(document.getElementById('typing-text'), 'H√¥m Nay L√† Ng√†y ƒê·∫∑c Bi·ªát ‚ù§Ô∏è', 80);
            }, 3000);
            
            createSparkles();
            createFloatingParticles();
        });

        function startJourney() {
            switchStage('stage1');
            createFallingHearts();
        }

        function goToStage2() {
            switchStage('stage2');
        }

        function goToStage1() {
            switchStage('stage1');
        }

        function switchStage(stageName) {
            document.getElementById(currentStage).classList.remove('active');
            document.getElementById(stageName).classList.add('active');
            currentStage = stageName;
        }

        function checkPassword() {
            const input = document.getElementById('password-input');
            const message = document.getElementById('password-message');
            
            if (input.value.toLowerCase() === PASSWORD.toLowerCase()) {
                message.textContent = '‚úÖ Ch√≠nh x√°c! ƒêang m·ªü...';
                message.style.color = '#22c55e';
                
                for(let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        const sparkle = document.createElement('div');
                        sparkle.className = 'sparkle';
                        sparkle.textContent = ['‚ú®', '‚≠ê', 'üí´', 'üåü'][Math.floor(Math.random() * 4)];
                        sparkle.style.left = (Math.random() * 80 + 10) + '%';
                        sparkle.style.top = (Math.random() * 80 + 10) + '%';
                        sparkle.style.fontSize = (Math.random() * 2 + 1.5) + 'rem';
                        document.body.appendChild(sparkle);
                        setTimeout(() => sparkle.remove(), 1500);
                    }, i * 50);
                }
                
                setTimeout(() => switchStage('stage3'), 1500);
            } else {
                message.textContent = '‚ùå Sai r·ªìi, th·ª≠ l·∫°i nh√© üòù';
                message.style.color = '#ff6b9d';
                input.value = '';
                input.style.animation = 'shake 0.5s';
                setTimeout(() => input.style.animation = '', 500);
            }
        }

        function openGift() {
            const giftBox = document.querySelector('.gift-box');
            giftBox.style.animation = 'none';
            giftBox.style.transform = 'scale(1.5)';
            giftBox.style.opacity = '0';
            
            for(let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'falling-heart';
                    const hearts = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üíû'];
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = '50%';
                    heart.style.top = '50%';
                    heart.style.fontSize = (Math.random() * 2 + 1.5) + 'rem';
                    
                    const angle = (Math.PI * 2 * i) / 20;
                    const velocity = Math.random() * 200 + 150;
                    heart.style.setProperty('--tx', Math.cos(angle) * velocity + 'px');
                    heart.style.setProperty('--ty', Math.sin(angle) * velocity + 'px');
                    heart.style.animation = 'giftExplosion 1.5s ease-out forwards';
                    
                    document.body.appendChild(heart);
                    setTimeout(() => heart.remove(), 1500);
                }, i * 30);
            }
            
            setTimeout(() => switchStage('stage4'), 800);
        }

        function createFallingHearts() {
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'falling-heart';
                const hearts = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíù'];
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = '-50px';
                heart.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 3000);
            }, 300);
        }

        function createSparkles() {
            setInterval(() => {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.textContent = '‚ú®';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                document.body.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 1500);
            }, 800);
        }

        function createFloatingParticles() {
            const particles = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üåπ', 'üå∏'];
            setInterval(() => {
                const particle = document.createElement('div');
                particle.className = 'love-particle';
                particle.textContent = particles[Math.floor(Math.random() * particles.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.bottom = '-50px';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 20000);
            }, 2000);
        }

        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter' && currentStage === 'stage2') {
                checkPassword();
            }
        });
    </script>
</body>
</html>